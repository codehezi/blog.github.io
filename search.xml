<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>liunx安装node环境</title>
      <link href="/2022/08/23/liunx-an-zhuang-node/"/>
      <url>/2022/08/23/liunx-an-zhuang-node/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="1-查看-node-的官网：https-nodejs-org-en-download"><a href="#1-查看-node-的官网：https-nodejs-org-en-download" class="headerlink" title="1.查看 node 的官网：https://nodejs.org/en/download/"></a>1.查看 node 的官网：<a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a></h2><p><img src="https://cdn.staticaly.com/gh/codehezi/images@master/images/image.76zh2vxzi3o0.webp" alt="image"></p><h2 id="2-使用-wget-命令去下载-node，获取最新的-node-js-版本"><a href="#2-使用-wget-命令去下载-node，获取最新的-node-js-版本" class="headerlink" title="2.使用 wget 命令去下载 node，获取最新的 node.js 版本"></a>2.使用 wget 命令去下载 node，获取最新的 node.js 版本</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#先进入local文件下</span><br><span class="line">cd /usr/local</span><br><span class="line"></span><br><span class="line">#创建node的文件夹</span><br><span class="line">mkdir node</span><br><span class="line"></span><br><span class="line">#然后进入node文件下</span><br><span class="line">cd node</span><br><span class="line"></span><br><span class="line">#在node文件下使用wget命令下载node包</span><br><span class="line">wget https://nodejs.org/dist/v16.17.0/node-v16.17.0-linux-x64.tar.xz</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-解压当前的压缩包"><a href="#3-解压当前的压缩包" class="headerlink" title="3.解压当前的压缩包"></a>3.解压当前的压缩包</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf node-v16.17.0-linux-x64.tar.xz</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>这个文件是已经编译好的 node 文件，不需要再去编译，只要在环境变量中配置一下就可以使用</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#修改etc下的profile文件</span><br><span class="line">vim /etc/profile</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/images@master/images/image.2qu0h1funl20.webp" alt="image"></p><h2 id="4-在-profile-文件的最后位置加上这个配置即可"><a href="#4-在-profile-文件的最后位置加上这个配置即可" class="headerlink" title="4.在 profile 文件的最后位置加上这个配置即可"></a>4.在 profile 文件的最后位置加上这个配置即可</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/usr/local/node/node-v14.15.3-linux-x64/bin</span><br></pre></td></tr></table></figure><blockquote><p><font style='color:red'>注意：</font>这个路径是解压后的文件下 bin 的路径，以你自己的路径为准</p></blockquote><h2 id="5-最后-source-一下这个文件，让这个文件生效"><a href="#5-最后-source-一下这个文件，让这个文件生效" class="headerlink" title="5.最后 source 一下这个文件，让这个文件生效"></a>5.最后 source 一下这个文件，让这个文件生效</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>腾讯云轻量服务器部署fireshare</title>
      <link href="/2022/08/21/liunx-system/"/>
      <url>/2022/08/21/liunx-system/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="腾讯云轻量服务器"><a href="#腾讯云轻量服务器" class="headerlink" title="腾讯云轻量服务器"></a><a href="https://cloud.tencent.com/">腾讯云轻量服务器</a></h1><blockquote><p>购买轻量服务器，这里以免费体验的服务器来演示</p></blockquote><h2 id="1-选择要安装的服务器"><a href="#1-选择要安装的服务器" class="headerlink" title="1.选择要安装的服务器"></a>1.选择要安装的服务器</h2><ul><li>（1）这里使用 docker 容器部署，所以直接安装含有 docker 基础镜像的服务器</li></ul><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.41sql6epvhm0.webp" alt="image"></p><ul><li>（2）安装完成后，如下图所示</li></ul><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.5gf3z0mq1j00.webp" alt="image"></p><ul><li>（3）点击登录，进入腾讯云的远程连接管理界面，当然你也可以使用自己的 xshell 或者 findshell 等等其他的远程连接工具连接</li></ul><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.29myx2469q68.webp" alt="image"></p><blockquote><p>点击登录后直接显示默认的登录的用户，直接登录即可。注意：这里要是想使用其他远程连接工具的话，可以通过 ubuntu 这个用户来连接，但是要设置下密码。</p></blockquote><ul><li>（4）切换 root 用户</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -i</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.4far8xd8ubu0.webp" alt="image"></p><ul><li>（5）更新下软件包</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update -y</span><br></pre></td></tr></table></figure><ul><li>（6）更新下镜像文件</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt upgrade -y</span><br></pre></td></tr></table></figure><ul><li>（7）安装下 swap,如果系统内存配置不够可以使用这个设置一下内存</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O box.sh  https://raw.githubusercontent.com/BlueSkyXN/SKY-BOX/main/box.sh &amp;&amp; chmod +x box.sh &amp;&amp; clear &amp;&amp; ./box.sh</span><br></pre></td></tr></table></figure><ul><li>（8）建 docker 的镜像管理目录</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir /root/data/docker_data</span><br></pre></td></tr></table></figure><ul><li>（9）进入 docker_data 下，建 fireshare 的文件夹和 docker-compose 的配置文件，下载 fireshare 的镜像文件</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">#进入文件夹</span><br><span class="line">cd /root/data/docker_data</span><br><span class="line"></span><br><span class="line">#创建文件夹</span><br><span class="line">mkdir fireshare</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#添加docker-compose 配置文件</span><br><span class="line">version: &#x27;3.7&#x27;</span><br><span class="line">services:</span><br><span class="line">   fireshare:</span><br><span class="line">        container_name: fireshare</span><br><span class="line">        image: shaneisrael/fireshare:latest  #latest表示最新版本</span><br><span class="line">        ports:</span><br><span class="line">          - &quot;8080:80&quot;  #冒号左边的端口可以自己修改成服务器未占用的端口，冒号右边不要修改</span><br><span class="line">        volumes:</span><br><span class="line">          - ./data:/data</span><br><span class="line">          - ./processed:/processed</span><br><span class="line">          - ./videos:/videos</span><br><span class="line">        environment:</span><br><span class="line">          - ADMIN_USERNAME=*** #自己设置一个用户名</span><br><span class="line">          - ADMIN_PASSWORD=***** #自己设置一个密码</span><br><span class="line"></span><br><span class="line">#下再fireshare的镜像文件,并启动</span><br><span class="line">docker-compose up -d</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>（10）安装完成后可以使用公网 ip+端口去访问</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://公网ip:8080</span><br></pre></td></tr></table></figure><blockquote><p>注意：这个时候可能无法访问，需要去服务器管理页面设置下防火墙，轻量应用服务器这个端口没有默认开放，需要手动设置开放，如下图：</p></blockquote><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.1tnn7mop00w0.webp" alt="image"></p><blockquote><p>配置完这个端口再使用http://公网ip:8080访问就会出现下图效果</p></blockquote><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.7jzklqempxs0.webp" alt="image"></p><blockquote><p>出现这样的显示，说明这个搭建成功了,现在就可以上传视频分享了</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> liunx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> liunx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>elasticsearch</title>
      <link href="/2022/08/14/elasticsearch/"/>
      <url>/2022/08/14/elasticsearch/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="docker-安装-elasticsearch-以及简单的使用"><a href="#docker-安装-elasticsearch-以及简单的使用" class="headerlink" title="docker 安装 elasticsearch 以及简单的使用"></a>docker 安装 elasticsearch 以及简单的使用</h1><h2 id="1-elasticsearch-的安装"><a href="#1-elasticsearch-的安装" class="headerlink" title="1.elasticsearch 的安装"></a>1.elasticsearch 的安装</h2><ul><li>向 docker 容器 pullelasticsearch</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull elasticsearch:7.7.0</span><br></pre></td></tr></table></figure><ul><li>查看安装后的镜像</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.5rgbb4j4bmk0.webp"></p><blockquote><p>出现上图结果说明 elasticsearch 镜像已经安装完成</p></blockquote><ul><li>启动 elasticsearch 服务</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name elasticsearch -d -e ES_JAVA_OPTS=&quot;-Xms512m -Xmx512m&quot; -e &quot;discovery.type=single-node&quot; -p 9200:9200 -p 9300:9300 elasticsearch:7.7.0</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.57gjis4qkdo0.webp"></p><blockquote><p>注意：这个地方的第一个端口指的是 http 外部的访问接口，第二端口指的是集群间的通信端口，使用(<a href="http://localhost:9200)访问时出现上图结果，说明">http://localhost:9200)访问时出现上图结果，说明</a> elasticsearch 服务启动成功</p></blockquote><h2 id="2-elasticsearch-的使用"><a href="#2-elasticsearch-的使用" class="headerlink" title="2.elasticsearch 的使用"></a>2.elasticsearch 的使用</h2><ul><li>（1）增加索引</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#put</span><br><span class="line">http://localhost:9200/test1</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.41i07r23ncq0.webp"></p><blockquote><p>出现图中返回结果说明索引添加成功。注意：增加索引是幂等性的，需要使用 put 请求</p></blockquote><ul><li>（2）查看增加的索引</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#get</span><br><span class="line">http://localhost:9200/_cat/indices?v</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.697fzevfjro0.webp"></p><p>-（3）删除索引</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#delete</span><br><span class="line">http://localhost:9200/test1</span><br></pre></td></tr></table></figure><p>-（4）向索引中添加文档数据</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#put(1001是指定的id,是幂等性的，所以可以使用put)</span><br><span class="line">http://localhost:9200/test1/_doc/1001</span><br><span class="line"></span><br><span class="line">#传递的参数</span><br><span class="line">&#123;</span><br><span class="line"> &quot;name&quot;:&quot;test数据&quot;,</span><br><span class="line"> &quot;age&quot;:12</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>（5）查询所有的添加的数据</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#get</span><br><span class="line">http://localhost:9200/test/_search</span><br></pre></td></tr></table></figure><ul><li>（6）根据 id 查询文档的数据</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#get</span><br><span class="line">http://localhost:9200/test/_doc/1001</span><br></pre></td></tr></table></figure><ul><li>（7）修改文档数据</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#put（_doc后面跟id这种是全覆盖修改，幂等性）</span><br><span class="line">http://localhost:9200/test/_doc/1001</span><br><span class="line"></span><br><span class="line">#传递的参数</span><br><span class="line">&#123;</span><br><span class="line">    &quot;name&quot;:&quot;覆盖&quot;,</span><br><span class="line">    &quot;age&quot;:12,</span><br><span class="line">    &quot;test&quot;:&quot;wq&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>（8）局部覆盖修改</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#post（_update这种是局部覆盖修改，非幂等性）</span><br><span class="line">http://localhost:9200/test/_update/1001</span><br><span class="line"></span><br><span class="line">#传递的参数</span><br><span class="line">&#123;</span><br><span class="line">    &quot;doc&quot;:&#123;</span><br><span class="line">        &quot;name&quot;:&quot;局部覆盖&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>（9）删除文档数据</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#delete</span><br><span class="line">http://localhost:9200/test/_doc/1001</span><br></pre></td></tr></table></figure><ul><li>（10）根据条件查询文档数据</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#post</span><br><span class="line">http://localhost:9200/test/_search</span><br><span class="line"></span><br><span class="line">#传递的参数</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot;:&#123;</span><br><span class="line">        &quot;match&quot;:&#123;</span><br><span class="line">            &quot;name&quot;:&quot;部分覆盖&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#这种是查询所有的文档数据</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot;:&#123;</span><br><span class="line">        &quot;match_all&quot;:&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>（11）分页查询</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#post</span><br><span class="line">http://localhost:9200/test/_search</span><br><span class="line"></span><br><span class="line">#传递的参数</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot;:&#123;</span><br><span class="line">        &quot;match_all&quot;:&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;from&quot;:0,#标识第几页</span><br><span class="line">    &quot;size&quot;:2#表示一页展示多少数据</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>（12）查询时规定要查询的字段</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#post</span><br><span class="line">http://localhost:9200/test/_search</span><br><span class="line"></span><br><span class="line">#传递的参数</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot;:&#123;</span><br><span class="line">        &quot;match_all&quot;:&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;from&quot;:0,#标识第几页</span><br><span class="line">    &quot;size&quot;:2,#表示一页展示多少数据</span><br><span class="line">    &quot;_source&quot;:[&quot;name&quot;] #标识要查询的字段</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>（13）排序查询</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#post</span><br><span class="line">http://localhost:9200/test/_search</span><br><span class="line"></span><br><span class="line">#传递的参数</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot;:&#123;</span><br><span class="line">        &quot;match_all&quot;:&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;from&quot;:0,#标识第几页</span><br><span class="line">    &quot;size&quot;:2,#表示一页展示多少数据</span><br><span class="line">    &quot;_source&quot;:[&quot;name&quot;], #标识要查询的字段</span><br><span class="line">    &quot;sort&quot;:&#123;</span><br><span class="line">        &quot;age&quot;:&#123; #要排序的字段</span><br><span class="line">            &quot;order&quot;:&quot;asc&quot; #排序的规则</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>（14）条件组合查询（相当于 SQL 里面的 and）</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#post</span><br><span class="line">http://localhost:9200/test/_search</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#传递的参数</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot;:&#123;</span><br><span class="line">        &quot;bool&quot;:&#123;</span><br><span class="line">            &quot;must&quot;:[</span><br><span class="line">                &#123;</span><br><span class="line">                    &quot;match&quot;:&#123;</span><br><span class="line">                        &quot;name&quot;:&quot;局部覆盖&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    &quot;match&quot;:&#123;</span><br><span class="line">                        &quot;age&quot;:12</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;from&quot;:0,//从某页开始</span><br><span class="line">    &quot;size&quot;:5//每页查询多少条</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>（14）条件组合查询（相当于 SQL 里面的 or）</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#post</span><br><span class="line">http://localhost:9200/test/_search</span><br><span class="line"></span><br><span class="line">#传递的参数</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot;:&#123;</span><br><span class="line">        &quot;bool&quot;:&#123;</span><br><span class="line">            &quot;should&quot;:[</span><br><span class="line">                &#123;</span><br><span class="line">                    &quot;match&quot;:&#123;</span><br><span class="line">                        &quot;name&quot;:&quot;局部覆盖&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    &quot;match&quot;:&#123;</span><br><span class="line">                        &quot;age&quot;:12</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;from&quot;:0,//从某页开始</span><br><span class="line">    &quot;size&quot;:5//每页查询多少条</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>（15）文档范围查询</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#post</span><br><span class="line">http://localhost:9200/test/_search</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#传递的参数</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot;:&#123;</span><br><span class="line">        &quot;bool&quot;:&#123;</span><br><span class="line">           &quot;filter&quot;:&#123;</span><br><span class="line">               &quot;range&quot;:&#123;</span><br><span class="line">                   &quot;age&quot;:&#123;</span><br><span class="line">                       &quot;gt&quot;:11</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;from&quot;:0,//从某页开始</span><br><span class="line">    &quot;size&quot;:5//每页查询多少条</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>（16）文档查询结果高亮显示</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#post</span><br><span class="line">http://localhost:9200/test/_search</span><br><span class="line"></span><br><span class="line">#传递的参数</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot;:&#123;</span><br><span class="line">       &quot;match_phrase&quot;:&#123;</span><br><span class="line">           &quot;name&quot;:&quot;局部&quot;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;highlight&quot;:&#123;</span><br><span class="line">        &quot;fields&quot;:&#123;</span><br><span class="line">            &quot;name&quot;:&#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> elasticsearch </category>
          
      </categories>
      
      
        <tags>
            
            <tag> elasticsearch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python</title>
      <link href="/2022/08/07/python/"/>
      <url>/2022/08/07/python/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="python-整合-redis-的简单使用"><a href="#python-整合-redis-的简单使用" class="headerlink" title="python 整合 redis 的简单使用"></a>python 整合 redis 的简单使用</h1><ul><li><strong>1.安装 redis 要使用的模块</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install redis</span><br><span class="line"></span><br><span class="line">pip install python-redis</span><br></pre></td></tr></table></figure><ul><li>2.<strong>在项目中导入 redis 的模块</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import redis</span><br></pre></td></tr></table></figure><ul><li>3.<strong>配置 redis 的连接</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 两种配置方式都可以使用</span><br><span class="line">import redis</span><br><span class="line"></span><br><span class="line">kwargs = &#123;</span><br><span class="line">    &#x27;host&#x27;: ip,</span><br><span class="line">    &#x27;port&#x27;: 6379,</span><br><span class="line">    &#x27;decode_responses&#x27;: True,</span><br><span class="line">    &#x27;retry_on_timeout&#x27;: 3, #重试次数</span><br><span class="line">    &#x27;max_connections&#x27;: 1024  # 默认2^31</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pool = redis.ConnectionPool(**kwargs)</span><br><span class="line">r = redis.Redis(connection_pool=pool)</span><br><span class="line">r.flushdb</span><br><span class="line"># pool = redis.ConnectionPool(decode_responses=True)                   # 建立连接池</span><br><span class="line"># r = redis.Redis(connection_pool=pool,host=ip, port=6379)   # 从连接池获取连接</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>4.<strong>以爬取百度的图片为演示列子</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">import re</span><br><span class="line">import json</span><br><span class="line">from data import redisDB #这个是上面配置封装的模块</span><br><span class="line"></span><br><span class="line">keywords = &quot;风景图片自然&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def getImages():</span><br><span class="line">    url = f&#x27;https://image.baidu.com/search/index?ct=201326592&amp;tn=baiduimage&amp;word=&#123;keywords&#125;&amp;pn=&amp;spn=&amp;ie=utf-8&amp;oe=utf-8&amp;cl=2&amp;lm=-1&amp;fr=ala&amp;se=&amp;sme=&amp;cs=&amp;os=&amp;objurl=&amp;di=&amp;tt=&amp;gsm=5a&amp;dyTabStr=MCwzLDIsNiwxLDQsNSw3LDgsOQ%3D%3D&#x27;</span><br><span class="line">    headers = &#123;</span><br><span class="line">        &#x27;Accept&#x27;: &#x27;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&#x27;,</span><br><span class="line">        &#x27;user-agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">    response = requests.get(url=url, headers=headers, timeout=5)</span><br><span class="line">    content = re.findall(&quot;&#x27;imgData&#x27;,(.*?),&#123;&#125;]&#125;&quot;, response.text)[0] + &quot;,&#123;&#125;]&#125;&quot;</span><br><span class="line">    jsonObj = json.loads(content)[&#x27;data&#x27;]</span><br><span class="line">    for image in jsonObj:</span><br><span class="line">        try:</span><br><span class="line">            num = image[&#x27;thumbURL&#x27;].split(&#x27;,&#x27;)[0].split(&#x27;=&#x27;)[1]</span><br><span class="line">            redisDB.r.set(&quot;image:&quot;+num,image[&#x27;thumbURL&#x27;])</span><br><span class="line">        except Exception as e:</span><br><span class="line">            print(&quot;图片不存在&quot;)</span><br></pre></td></tr></table></figure><blockquote><p>操作的结果</p></blockquote><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.55uclnbxhmk0.webp"></p><blockquote><p>每个 url 都是一张图片（图中的连接如下图，这个 url 可能时刻在变化）</p></blockquote><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.11vxtw1coffk.webp"></p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>tabby</title>
      <link href="/2022/07/27/tabby/"/>
      <url>/2022/07/27/tabby/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="性能强大且优雅的远程连接工具-tabby"><a href="#性能强大且优雅的远程连接工具-tabby" class="headerlink" title="性能强大且优雅的远程连接工具 tabby"></a><a href="https://github.com/Eugeny/tabby/releases/tag/v1.0.164">性能强大且优雅的远程连接工具 tabby</a></h1><blockquote><p>点击名称可跳转 GitHub 下载各个版本的安装包</p></blockquote><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.243361vn98kg.webp"></p><ul><li><p>windows 版的安装程序，下载双击直接下一步安装即可</p></li><li><p>安装完成</p><ul><li><p>设置步骤</p><ul><li><p>(1)<br><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.5mftv62bmq40.webp"></p></li><li><p>(2)<br><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.6ml87xubf4w0.webp"></p></li><li><p>(3)<br><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.387c79fg348.webp"></p></li><li><p>(4)<br><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.5ya6fngeyd40.webp"></p></li><li><p>(5)<br><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.5ya6fngeyd40.webp"></p></li><li><p>(7)<br><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.7987qiwxqhw0.webp"></p></li><li><p>(6)<br><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.6mrx9dj2nhk0.webp"></p></li><li><p>(7)<br><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.6mrx9dj2nhk0.webp"></p></li><li><p>(8)<br><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.68w7vxdwz9o0.webp"></p></li><li><p>(9)<br><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.5walfnk96ok0.webp"></p></li></ul><blockquote><p>至此，安装和配置远程服务器完毕</p></blockquote></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> tabby </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tabby </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>liunx磁盘扩容</title>
      <link href="/2022/07/24/liunx-kuorong/"/>
      <url>/2022/07/24/liunx-kuorong/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>今天在用 liunx 下载插件的时候突然报磁盘空间不足，之后不管是切换目录，关机重启什么的，都没办法使用，之后使用”rm -f xxx”到指定的文件下删除一些日志后，释放了一些空间才可以正常使用，但是这个并不能管多久，稍微使用一下日志记多了空间就又开始不足了，后来就去网上查了下，原来是一开始没做分区，分配的 60 多个 G 并没有给根目录。下面就来做来分区给根目录扩个容。</p></blockquote><ul><li>首先查看下磁盘的情况</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#查看当前磁盘的使用情况</span><br><span class="line">df -h</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.5zl59b2z23g0.webp"></p><ul><li>看下分区情况</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.6phzsa8p0480.webp"></p><blockquote><p>从图中明显可以看出这个默认分配的空间只有十几个 G，而我在虚拟机中设置的是 90G,显然我还有很多空间是没有用到的</p></blockquote><ul><li>首先对磁盘进行分区</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk /dev/sda</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.5y3s11gfr7w0.webp"></p><ul><li>分完区查看一下分区的情况</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.38l1lop40mw0.webp"></p><blockquote><p>发现这里多出一个 sda3 的区</p></blockquote><ul><li>创建物理卷</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pvcreate /dev/sda3</span><br></pre></td></tr></table></figure><blockquote><p>这个地方可能会报错，报 Device not found:/dev/sda3 ,这个时候可以将 liunx 重启一下，一般不会报错。</p></blockquote><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.39pwnkdmdbs0.webp"></p><blockquote><p>创建成功了就会如上图显示成功，同时查看了物理卷的信息，出现了新增的 sda3</p></blockquote><ul><li>查看当前物理卷的使用情况</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vgdisplay</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.2h594oxdzyq0.webp"></p><ul><li>把创建的这个物理卷加进来</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#加上新加的卷</span><br><span class="line">vgextend /dev/centos/ /dev/sda3</span><br><span class="line"></span><br><span class="line">#展示当前卷的情况</span><br><span class="line">vgdisplay</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.26vmb708mjvo.webp"></p><ul><li>查看一下新加卷</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pvdisplay</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.18r6ky8ggujk.webp"></p><ul><li>给更目录 root 分配空间</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lvextent -L+1G /dev/centos/root /dev/sda3</span><br><span class="line"></span><br><span class="line"> resize2fs -p /dev/mapper/centos-root 10G</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.59yfu3e5ei80.webp"></p><blockquote><p>如果报了图片中的错误可以使用下面的命令</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#查看磁盘情况</span><br><span class="line">df -h</span><br><span class="line"></span><br><span class="line">xfs_growfs /dev/mapper/centos-root</span><br><span class="line"></span><br><span class="line">#再次查看磁盘</span><br><span class="line">df -h</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.5zoe8ezoqnk0.webp"></p><blockquote><p>下面磁盘空间变化了，说明扩容好了</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> liunx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> liunx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springboot项目改造成dubbo微服务项目</title>
      <link href="/2022/07/22/dubbo/"/>
      <url>/2022/07/22/dubbo/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="将一个普通的-springboot-微服务改造成-dubbo-的微服务"><a href="#将一个普通的-springboot-微服务改造成-dubbo-的微服务" class="headerlink" title="将一个普通的 springboot 微服务改造成 dubbo 的微服务"></a><font color=red>将一个普通的 springboot 微服务改造成 dubbo 的微服务</font></h1><h4 id="首先搭建-springboot-的微服务项目，直接上代码"><a href="#首先搭建-springboot-的微服务项目，直接上代码" class="headerlink" title="首先搭建 springboot 的微服务项目，直接上代码"></a>首先搭建 springboot 的微服务项目，直接上代码</h4><blockquote><p>目录结构</p></blockquote><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.1sxuhy6ipfz4.webp"></p><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.7jbn8mp2onc0.webp"></p><ul><li>consumer 服务的 service 层</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@Service</span><br><span class="line">public class consumerService &#123;</span><br><span class="line"></span><br><span class="line">    @Resource</span><br><span class="line">    private RestTemplate restTemplate;</span><br><span class="line"></span><br><span class="line">    public String getOrder() &#123;</span><br><span class="line">        String result = restTemplate.getForObject(&quot;http://localhost:8082/provider&quot;, String.class);</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>consumer 服务的 Controller 层</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@RestController</span><br><span class="line">public class consumerController &#123;</span><br><span class="line"></span><br><span class="line">    @Resource</span><br><span class="line">    private consumerService consumerService;</span><br><span class="line"></span><br><span class="line">    @GetMapping(&quot;/consumer&quot;)</span><br><span class="line">    public String consumer()&#123;</span><br><span class="line">        return consumerService.getOrder();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>consumer 的 pom</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;</span><br><span class="line">         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line"></span><br><span class="line">    &lt;groupId&gt;com.codehezi.consumer&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;consumer&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;dependencies&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;2.6.0&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/dependencies&gt;</span><br><span class="line"></span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure><ul><li>provider 应用的 service 层</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@Service</span><br><span class="line">public class providerService &#123;</span><br><span class="line"></span><br><span class="line">    public String getProvider() &#123;</span><br><span class="line">        return &quot;success&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>provider 应用的 Controller 层</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@RestController</span><br><span class="line">public class providerController &#123;</span><br><span class="line"></span><br><span class="line">    @Resource</span><br><span class="line">    private providerService providerService;</span><br><span class="line"></span><br><span class="line">    @GetMapping(&quot;/provider&quot;)</span><br><span class="line">    public String getProvider() &#123;</span><br><span class="line">        return providerService.getProvider();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>provider 的 pom</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;</span><br><span class="line">         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line"></span><br><span class="line">    &lt;groupId&gt;com.codehezi.provider&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;provider&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependencies&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;2.6.0&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/dependencies&gt;</span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure><h2 id="在没使用-dubbo-之前使用-RestTemplate-去调用-provider-的应用"><a href="#在没使用-dubbo-之前使用-RestTemplate-去调用-provider-的应用" class="headerlink" title="在没使用 dubbo 之前使用 RestTemplate 去调用 provider 的应用"></a>在没使用 dubbo 之前使用 RestTemplate 去调用 provider 的应用</h2><ul><li><p>1.添加 dubbo 的核心依赖</p></li><li><p>2.添加要使用的注册中心的依赖</p></li><li><p>3.添加要使用的协议的依赖</p></li><li><p>4.配置 dubbo 的基本信息</p></li><li><p>5.配置注册中心的地址</p></li><li><p>6.配置要使用的协议</p></li></ul><h2 id="改造成-dubbo-的微服务"><a href="#改造成-dubbo-的微服务" class="headerlink" title="改造成 dubbo 的微服务"></a>改造成 dubbo 的微服务</h2><ul><li>pom 文件调整，这里用了 dubbo3.0.7，发现自带的 Zookeper 版本过低，需要引入 Zookeper 的版本</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- dubbo依赖--&gt;</span><br><span class="line">      &lt;dependency&gt;</span><br><span class="line">          &lt;groupId&gt;org.apache.dubbo&lt;/groupId&gt;</span><br><span class="line">          &lt;artifactId&gt;dubbo-spring-boot-starter&lt;/artifactId&gt;</span><br><span class="line">          &lt;version&gt;3.0.7&lt;/version&gt;</span><br><span class="line">      &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">      &lt;dependency&gt;</span><br><span class="line">          &lt;groupId&gt;org.apache.dubbo&lt;/groupId&gt;</span><br><span class="line">          &lt;artifactId&gt;dubbo-rpc-dubbo&lt;/artifactId&gt;</span><br><span class="line">          &lt;version&gt;3.0.7&lt;/version&gt;</span><br><span class="line">      &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">      &lt;dependency&gt;</span><br><span class="line">          &lt;groupId&gt;org.apache.dubbo&lt;/groupId&gt;</span><br><span class="line">          &lt;artifactId&gt;dubbo-registry-zookeeper&lt;/artifactId&gt;</span><br><span class="line">          &lt;version&gt;3.0.7&lt;/version&gt;</span><br><span class="line">      &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">     &lt;dependency&gt;</span><br><span class="line">          &lt;groupId&gt;org.apache.dubbo&lt;/groupId&gt;</span><br><span class="line">          &lt;artifactId&gt;dubbo-dependencies-zookeeper&lt;/artifactId&gt;</span><br><span class="line">          &lt;version&gt;3.0.1&lt;/version&gt;</span><br><span class="line">          &lt;type&gt;pom&lt;/type&gt;</span><br><span class="line">          &lt;exclusions&gt;</span><br><span class="line">              &lt;exclusion&gt;</span><br><span class="line">                  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span><br><span class="line">                  &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;</span><br><span class="line">              &lt;/exclusion&gt;</span><br><span class="line">          &lt;/exclusions&gt;</span><br><span class="line">      &lt;/dependency&gt;</span><br></pre></td></tr></table></figure><ul><li>consumer 应用的配置</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">server:</span><br><span class="line">  port: 8081</span><br><span class="line"></span><br><span class="line">#dubbo应用的配置</span><br><span class="line">dubbo:</span><br><span class="line">  application:</span><br><span class="line">    name: consumer-application</span><br><span class="line">  protocol:</span><br><span class="line">    name: dubbo   #dubbo协议的名称</span><br><span class="line">    port: 20880   #dubbo协议的端口</span><br><span class="line"></span><br><span class="line">  registry:</span><br><span class="line">    address: zookeeper://192.168.136.20:2181  #Zookeper注册中心的地址</span><br></pre></td></tr></table></figure><ul><li>providder 应用的配置</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">server:</span><br><span class="line">  port: 8082</span><br><span class="line">#dubbo应用的配置</span><br><span class="line">dubbo:</span><br><span class="line">  application:</span><br><span class="line">    name: provider-application</span><br><span class="line">  protocol:</span><br><span class="line">    name: dubbo   #dubbo协议的名称</span><br><span class="line">    port: 20880   #dubbo协议的端口</span><br><span class="line"></span><br><span class="line">  registry:</span><br><span class="line">    address: zookeeper://192.168.136.20:2181  #Zookeper注册中心的地址</span><br></pre></td></tr></table></figure><blockquote><p>注意：这里需要启动 Zookeper 的服务端</p></blockquote><h2 id="改造-consumer-应用和-provider-应用"><a href="#改造-consumer-应用和-provider-应用" class="headerlink" title="改造 consumer 应用和 provider 应用"></a>改造 consumer 应用和 provider 应用</h2><ul><li>增加接口 moudle</li></ul><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.xd2w0dgua40.webp"></p><h3 id="consumer-应用调整"><a href="#consumer-应用调整" class="headerlink" title="consumer 应用调整"></a>consumer 应用调整</h3><ul><li>调整 pom，引入 common 模块</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> &lt;dependency&gt;</span><br><span class="line">           &lt;groupId&gt;com.codehezi.common&lt;/groupId&gt;</span><br><span class="line">           &lt;artifactId&gt;common&lt;/artifactId&gt;</span><br><span class="line">           &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><ul><li>调整 consumer 的 service</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@Service</span><br><span class="line">public class consumerService &#123;</span><br><span class="line"></span><br><span class="line">    @DubboReference //使用dubbo注解</span><br><span class="line">    private com.codehezi.providerService.providerService providerService;</span><br><span class="line"></span><br><span class="line">    public String getOrder() &#123;</span><br><span class="line">        return providerService.getProvider();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>启动类开启 dubbo 功能</p><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.hs4pjoeywa0.webp"></p></li></ul><h3 id="调整-provider-应用"><a href="#调整-provider-应用" class="headerlink" title="调整 provider 应用"></a>调整 provider 应用</h3><ul><li>调整 pom，引入 common 模块</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;com.codehezi.common&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;common&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><ul><li>调整 provider 的原来的 service 为实现类</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@DubboService</span><br><span class="line">public class providerServiceImpl implements providerService &#123;</span><br><span class="line">  public String getProvider() &#123;</span><br><span class="line">      return &quot;success&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>启动类开启 dubbo 功能</p><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.3j1yq9x6f3e0.webp"></p></li></ul><blockquote><p>到这里一个 dubbo 的微服务项目改造就完成了</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows安装hexo静态博客</title>
      <link href="/2022/07/22/hexo/"/>
      <url>/2022/07/22/hexo/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="windows搭建静态博客"><a href="#windows搭建静态博客" class="headerlink" title="windows搭建静态博客"></a>windows搭建静态博客</h3><blockquote><p>安装环境</p><ul><li>(1)安装了node的环境，并且版本在14.0.1或者以上</li><li>(2)安装了Git环境</li><li>(3)搭建hexo静态博客</li><li>(4)注册了GitHub账号，便于后面代码托管</li></ul></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#安装hexo的命令行</span><br><span class="line">npm install -g hexo-cli</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">##检查hexo是否安装完成</span><br><span class="line">hexo -v</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.50g2wdtujgo0.webp"></p><blockquote><p>出现这样的输出说明hexo安装完成了</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#在任意一磁盘下加一个文件夹，如：blogtest，在此文件夹下初始化</span><br><span class="line">hexo init</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.7jgrkbc5xcs0.webp"></p><blockquote><p>出现此图说明已经初始化完成</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#下载hexo需要的一些依赖</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.7i5b0lwmsog0.webp"></p><blockquote><p>出现这个文件夹说明依赖已经下载完</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#先清理一下</span><br><span class="line">hexo clean</span><br><span class="line"> </span><br><span class="line">#生成静态文件</span><br><span class="line">hexo g</span><br><span class="line"></span><br><span class="line">#启动hexo服务</span><br><span class="line">hexo s</span><br><span class="line"></span><br><span class="line">#发布到GitHub</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p><img src="https://cdn.staticaly.com/gh/codehezi/rest@master/images/image.45b9j5qn4n80.webp"></p><blockquote><p>出现这个图说明hexo的静态博客已经搭建成功</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux安装git</title>
      <link href="/2022/07/20/git/"/>
      <url>/2022/07/20/git/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="liunx安装git"><a href="#liunx安装git" class="headerlink" title="liunx安装git"></a>liunx安装git</h3><blockquote><p>git管理codeing的版本需要git版本至少是1.8.0以上</p></blockquote><h2 id="安装git的依赖"><a href="#安装git的依赖" class="headerlink" title="安装git的依赖"></a><em>安装git的依赖</em></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker</span><br></pre></td></tr></table></figure><h2 id="删除已有的git，这个版本默认是1-8-0左右的"><a href="#删除已有的git，这个版本默认是1-8-0左右的" class="headerlink" title="删除已有的git，这个版本默认是1.8.0左右的"></a><em>删除已有的git，这个版本默认是1.8.0左右的</em></h2><blockquote><p>yum remove git</p></blockquote><h1 id="下载git源码"><a href="#下载git源码" class="headerlink" title="下载git源码"></a>下载git源码</h1><h2 id="进入下载的目录在（以-usr-local-git-目录为例）"><a href="#进入下载的目录在（以-usr-local-git-目录为例）" class="headerlink" title="进入下载的目录在（以 /usr/local/git 目录为例）"></a><em>进入下载的目录在（以 /usr/local/git 目录为例）</em></h2><blockquote><p>wget <a href="https://www.kernel.org/pub/software/scm/git/git-2.8.3.tar.gz">https://www.kernel.org/pub/software/scm/git/git-2.8.3.tar.gz</a></p></blockquote><h2 id="将下载的压缩包解压"><a href="#将下载的压缩包解压" class="headerlink" title="将下载的压缩包解压"></a><em>将下载的压缩包解压</em></h2><blockquote><p>tar -zxvf git-2.8.3.tar.gz</p></blockquote><h2 id="进到解压后的目录配置Git的安装路径"><a href="#进到解压后的目录配置Git的安装路径" class="headerlink" title="进到解压后的目录配置Git的安装路径"></a><em>进到解压后的目录配置Git的安装路径</em></h2><blockquote><p>./configure prefix=/usr/local/git/</p></blockquote><h2 id="编译并且安装"><a href="#编译并且安装" class="headerlink" title="编译并且安装"></a><em>编译并且安装</em></h2><blockquote><p>make &amp;&amp; make install</p></blockquote><h2 id="然后可以查看下Git的版本"><a href="#然后可以查看下Git的版本" class="headerlink" title="然后可以查看下Git的版本"></a><em>然后可以查看下Git的版本</em></h2><blockquote><p>git –version</p></blockquote><h2 id="将git指令添加到-etc-profile-中"><a href="#将git指令添加到-etc-profile-中" class="headerlink" title="将git指令添加到 /etc/profile 中"></a><em>将git指令添加到 /etc/profile 中</em></h2><p>#在这个文件的后面加上</p><blockquote><p>export PATH=$PATH:/usr/local/git/bin</p></blockquote><h2 id="执行命令是的文件生效"><a href="#执行命令是的文件生效" class="headerlink" title="执行命令是的文件生效"></a><em>执行命令是的文件生效</em></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><blockquote><p>linux的git安装成功</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> liunx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> liunx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>liunx安装docker容器</title>
      <link href="/2022/07/19/linux/"/>
      <url>/2022/07/19/linux/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="liunx安装docker容器"><a href="#liunx安装docker容器" class="headerlink" title="liunx安装docker容器"></a>liunx安装docker容器</h3><h2 id="（1）先查看一下操作系统的版本"><a href="#（1）先查看一下操作系统的版本" class="headerlink" title="（1）先查看一下操作系统的版本"></a>（1）先查看一下操作系统的版本</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username -r</span><br></pre></td></tr></table></figure><h2 id="（2）如果版本低于3-10，需要更新版本"><a href="#（2）如果版本低于3-10，需要更新版本" class="headerlink" title="（2）如果版本低于3.10，需要更新版本"></a>（2）如果版本低于3.10，需要更新版本</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum update</span><br></pre></td></tr></table></figure><h2 id="（3）下载yum命令需要用到的工具"><a href="#（3）下载yum命令需要用到的工具" class="headerlink" title="（3）下载yum命令需要用到的工具"></a>（3）下载yum命令需要用到的工具</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure><h2 id="（4）配置docker下载的镜像，不然下载会很慢"><a href="#（4）配置docker下载的镜像，不然下载会很慢" class="headerlink" title="（4）配置docker下载的镜像，不然下载会很慢"></a>（4）配置docker下载的镜像，不然下载会很慢</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//官网地址</span><br><span class="line">yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line">//阿里云地址</span><br><span class="line">yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure><h2 id="（6）查看docker版本列表，选择要下载的版本"><a href="#（6）查看docker版本列表，选择要下载的版本" class="headerlink" title="（6）查看docker版本列表，选择要下载的版本"></a>（6）查看docker版本列表，选择要下载的版本</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list docker-ce --showduplicates | sort -r</span><br></pre></td></tr></table></figure><h2 id="（7）安装docker"><a href="#（7）安装docker" class="headerlink" title="（7）安装docker"></a>（7）安装docker</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install docker-ce-17.12.0.ce </span><br></pre></td></tr></table></figure><h2 id="（8）查看docker版本，看是否安装成功"><a href="#（8）查看docker版本，看是否安装成功" class="headerlink" title="（8）查看docker版本，看是否安装成功"></a>（8）查看docker版本，看是否安装成功</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//查看版本</span><br><span class="line">docker version</span><br><span class="line"></span><br><span class="line">//验证是否安装成功</span><br><span class="line">1.systemctl start dokcer  //启动docker容器</span><br><span class="line"></span><br><span class="line">2.systemctl enable docker //设置docker容器开机自启动</span><br><span class="line"></span><br><span class="line">3.docker version(如果出现客户端和服务端说明安装docker成功了)</span><br><span class="line"></span><br><span class="line">//查看docker的启动状态</span><br><span class="line">systemctl status docker</span><br></pre></td></tr></table></figure><h2 id="（9）卸载docker"><a href="#（9）卸载docker" class="headerlink" title="（9）卸载docker"></a>（9）卸载docker</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//查询docker安装过的包</span><br><span class="line">yum list installed | grep docker</span><br><span class="line"></span><br><span class="line">//删除安装包</span><br><span class="line">yum remove docker-ce.x86_64 ddocker-ce-cli.x86_64 -y</span><br><span class="line"></span><br><span class="line">//删除镜像/容器等</span><br><span class="line">rm -rf /var/lib/docker</span><br></pre></td></tr></table></figure><h2 id="（10）查看docker里面镜像的运行情况"><a href="#（10）查看docker里面镜像的运行情况" class="headerlink" title="（10）查看docker里面镜像的运行情况"></a>（10）查看docker里面镜像的运行情况</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker ps //查看正在运行的镜像</span><br><span class="line"></span><br><span class="line">docker ps -a //查看所有的镜像</span><br></pre></td></tr></table></figure><h2 id="（11）关闭运行的镜像和docker容器"><a href="#（11）关闭运行的镜像和docker容器" class="headerlink" title="（11）关闭运行的镜像和docker容器"></a>（11）关闭运行的镜像和docker容器</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker stop 镜像的id或者镜像名称 //关闭运行的镜像</span><br><span class="line"></span><br><span class="line">systemctl stop docker //停止正在运行的容器</span><br></pre></td></tr></table></figure><h2 id="一些docker查看的参数"><a href="#一些docker查看的参数" class="headerlink" title="一些docker查看的参数"></a>一些docker查看的参数</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">docker ps [OPTIONS]</span><br><span class="line"></span><br><span class="line">OPTIONS说明：</span><br><span class="line">-a :显示所有的容器，包括未运行的。</span><br><span class="line">-f :根据条件过滤显示的内容。</span><br><span class="line">--format :指定返回值的模板文件。</span><br><span class="line">-l :显示最近创建的容器。</span><br><span class="line">-n :列出最近创建的n个容器。</span><br><span class="line">--no-trunc :不截断输出。</span><br><span class="line">-q :静默模式，只显示容器编号。</span><br><span class="line">-s :显示总的文件大小。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> liunx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> liunx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>node的版本管理工具</title>
      <link href="/2022/07/19/node/"/>
      <url>/2022/07/19/node/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="node的版本管理工具"><a href="#node的版本管理工具" class="headerlink" title="node的版本管理工具"></a>node的版本管理工具</h3><h1 id="（1）如果已经安装了node，可以通过npm命令直接安装"><a href="#（1）如果已经安装了node，可以通过npm命令直接安装" class="headerlink" title="（1）如果已经安装了node，可以通过npm命令直接安装"></a>（1）如果已经安装了node，可以通过npm命令直接安装</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#这个安装的是windows版本</span><br><span class="line">npm install -g nvmw </span><br><span class="line">#查看nvmw的版本，看是否安装成功</span><br><span class="line">nvmw -V ##注意：这个V是大写</span><br><span class="line">#然后可以通过nvmw命令安装node的版本（版本需要是5.0.0以上的）</span><br><span class="line">列如：nvmw install v14.0.1</span><br><span class="line">#可以在当前窗口切换node的版本</span><br><span class="line">nvmw use v14.0.1 || nvmw switch v14.0.1</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
